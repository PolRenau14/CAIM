The Internet of Things (IoT) field has gained much attention from industry and academia, being the
main subject for numerous research and development projects. Frequently, the dense amount of generated
data from IoT applications is sent to a cloud service, that is responsible for processing and storage.
Many of these applications demand security and privacy for their data because of their sensitive
nature. This is specially true when such data must be processed in entities hosted in public clouds,
where the environment in which applications run may not be trusted. Some concerns are then raised
since it is not trivial to provide the needed protection for these sensitive data. We present a solution
that considers the security components of FIWARE and the Intel SGX capabilities. FIWARE is a platform
created to support the development of Smart Applications, including IoT systems, and SGX is the
Intel solution for Trusted Execution Environment (TEE). We propose a new component for key management
that, together with other FIWARE components, can be used to provide privacy, confidentiality,
and integrity guarantees for IoT data. A case study illustrates how this proposed solution can be
employed in a realistic scenario, which allows the dissemination of sensitive data through public
clouds without risking privacy issues. The results of the experiments provide evidence that our
approach does not harm scalability or availability of the system. In addition, it presents acceptable
memory costs when considering the benefit of the privacy guarantees achieved. 