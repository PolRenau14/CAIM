Internet-of-Things (IoT) and Supply Chain monitoring applications rely on messaging protocols
for exchanging data. Contemporary IoT deployments widely use the publish-subscribe messaging
model because of its resource-efficiency. However, the systems with publish-subscribe messaging
model employ a centralized architecture, wherein the data from all the devices in the application
network flows via a central broker to the subscribers. Such a centralized architecture make publish-subscribe
messaging model susceptible to a central point of failure. Besides, it provides an opportunity
for the organization that owns the broker to tamper with the data. In this work, we contribute Trinity,
a novel distributed publish-subscribe broker with blockchain-based immutability. Trinity distributes
the data published to one of the brokers in the network to all the brokers in the network. The distributed
data is stored in an immutable ledger through the use of the blockchain technology. Furthermore,
Trinity executes smart contracts to validate the data before saving the data on the blockchain.
Through the use of a blockchain network, Trinity can guarantee persistence, ordering, and immutability
across trust boundaries. Our evaluation results show that Trinity consumes minimal resources,
and the use of smart contracts enable the stakeholders to automate the data management processes.
To the best of our knowledge, Trinity is the first framework that combines the components of the blockchain
technology with the publish-subscribe messaging model. 