Breast cancer diagnosis often requires accurate detection of metastasis in lymph nodes through
Whole-slide Images (WSIs). Recent advances in deep convolutional neural networks (CNNs) have
shown significant successes in medical image analysis and particularly in computational histopathology.
Because of the outrageous large size of WSIs, most of the methods divide one slide into lots of small
image patches and perform classification on each patch independently. However, neighboring patches
often share spatial correlations, and ignoring these spatial correlations may result in inconsistent
predictions. In this paper, we propose a neural conditional random field (NCRF) deep learning framework
to detect cancer metastasis in WSIs. NCRF considers the spatial correlations between neighboring
patches through a fully connected CRF which is directly incorporated on top of a CNN feature extractor.
The whole deep network can be trained end-to-end with standard back-propagation algorithm with
minor computational overhead from the CRF component. The CNN feature extractor can also benefit
from considering spatial correlations via the CRF component. Compared to the baseline method without
considering spatial correlations, we show that the proposed NCRF framework obtains probability
maps of patch predictions with better visual quality. We also demonstrate that our method outperforms
the baseline in cancer metastasis detection on the Camelyon16 dataset and achieves an average FROC
score of 0.8096 on the test set. NCRF is open sourced at https://github.com/baidu-research/NCRF.
